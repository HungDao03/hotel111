<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Danh s√°ch ph√≤ng</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0">Qu·∫£n l√Ω ph√≤ng</h2>
        <a th:href="@{/admin/rooms/create}" class="btn btn-primary">
            ‚ûï T·∫°o ph√≤ng m·ªõi
        </a>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered table-hover align-middle">
            <thead class="table-dark">
            <tr>
                <th>#</th>
                <th>S·ªë ph√≤ng</th>
                <th>Tr·∫°ng th√°i</th>
                <th>Gi√° m·ªói ƒë√™m</th>
                <th>Lo·∫°i ph√≤ng</th>
                <th>T√™n ng∆∞·ªùi thu√™</th>
                <th>SƒêT</th>
                <th>Email</th>
                <th class="text-center">H√†nh ƒë·ªông</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="room, iterStat : ${rooms}">
                <th th:text="${iterStat.index + 1}">1</th>
                <td th:text="${room.roomNumber}">101</td>
                <td>
                    <span th:classappend="'badge ' +
                        (${room.status.name()} == 'EMPTY' ? 'bg-success' :
                        (${room.status.name()} == 'BOOKED' ? 'bg-warning text-dark' :
                        (${room.status.name()} == 'OCCUPIED' ? 'bg-danger' : 'bg-secondary')))"
                          th:text="${room.status.name()}">
                    </span>
                </td>

                <!-- ‚úÖ TH√äM D√íNG N√ÄY -->
                <td th:text="${room.roomType != null ? room.roomType.name : '-'}">Ph√≤ng ƒë∆°n</td>

                <!-- ‚úÖ V√Ä D√íNG N√ÄY -->
                <td th:text="${room.roomType != null ? #numbers.formatDecimal(room.roomType.pricePerNight, 0, 'COMMA', 0, 'POINT') + ' ƒë' : '-'}">500.000 ƒë</td>


                <td th:text="${room.tenantName != null ? room.tenantName : '-'}">Nguy·ªÖn VƒÉn A</td>
                <td th:text="${room.phoneNumber != null ? room.phoneNumber : '-'}">0123456789</td>
                <td th:text="${room.email != null ? room.email : '-'}">email@example.com</td>
                <td class="text-center">
                    <a th:href="@{/admin/rooms/{id}(id=${room.id})}" class="btn btn-sm btn-warning me-1">‚úè S·ª≠a</a>
                    <a th:href="@{/admin/rooms/delete/{id}(id=${room.id})}" class="btn btn-sm btn-danger"
                       onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xo√° ph√≤ng n√†y?');">üóë Xo√°</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <a th:href="@{/admin}" class="btn btn-secondary mt-3">‚¨Ö Quay l·∫°i trang ch√≠nh</a>
</div>
</body>
</html>
